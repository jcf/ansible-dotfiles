# MacVim will edit all!
alias e="mvim"

# dotfiles
alias reload="source ~/.zshrc"
alias cdot="cd ~/.dotfiles"
alias edot="mvim -c \"cd ~/.dotfiles\" ~/.dotfiles"

# executable dir
alias cbin="cd ~/bin"
alias ebin="e ~/bin"

# cd
alias ..='cd ..'

# List TCP ports
alias ports='sudo lsof -iTCP -sTCP:LISTEN -P'

# Host aware ls color option
case $(uname) in
  'Darwin')
    alias ls='ls -GF'
    ;;
  *)
    alias ls='ls --color=auto -F'
    ;;
esac

alias grep='grep --color'

# ls
alias l="ls -Alh"
alias ll="l"
alias l.='ls -ldG .*'
alias le='ls -aelG'
alias lsd="ls -al | awk '/^d/{print}'"

# git
alias gl='git pull'
alias glr='git pull --rebase'
alias gp='git push'
alias gd='git diff'
alias gc='git commit -v'
alias gca='git commit -av'
alias gco='git checkout'
alias gb='git branch -v'
alias gs='git status'
alias glog='git log --stat'
alias gmt='git mergetool'
alias grm="git status | grep deleted | awk '{print \$3}' | xargs git rm"

# Rails
function rails_command {
  local cmd=$1
  shift
  if [ -e script/rails ]; then
    rails $cmd "$@"
  elif [ -e script/$cmd ]; then
    script/$cmd "$@"
  else
    echo "This isn't a Rails app"
  fi
}
function ss { rails_command "server" "thin" "$@" }
function sc { rails_command "console" "$@" }
function sg { rails_command "generate" "$@" }

alias tlog='tail -f log/development.log'
alias migrate='rake db:migrate db:test:clone_structure'
alias rst='touch tmp/restart.txt'

# bundler
alias be='bundle exec'

# commands starting with % for pasting from web
alias %=' '

alias rot13="tr 'A-Za-z' 'N-ZA-Mn-za-m'"

# Node.js
alias node-repl='rlwrap node-repl'

# Readers and Pagers
alias t='tail -f'
alias -g L='|less'
alias -g G='|grep'
alias -g T='|tail'
alias -g H='|head'
alias -g N='&>/dev/null&'
alias -g W='|wc'
